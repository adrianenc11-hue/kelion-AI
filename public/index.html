<!DOCTYPE html>
<html lang="ro">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>KELION - The Story of K</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet">
    <!-- Note: 3D model preload removed - was causing console warnings -->
    <style>
        /* 1) Reset robust */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #050a18;
        }

        /* 2) Root uses dynamic viewport units when available */
        :root {
            --vvw: 100vw;
            --vvh: 100vh;
            --seg-left: 0px;
            --seg-top: 0px;
            --seg-width: 100vw;
            --seg-height: 100vh;
        }

        /* Prefer dynamic viewport units when supported (mobile toolbars/keyboard) */
        @supports (height: 100dvh) {
            :root {
                --vvh: 100dvh;
            }
        }

        @supports (width: 100dvw) {
            :root {
                --vvw: 100dvw;
            }
        }

        /* 3) Main stage always fills the VISIBLE viewport */
        #stage {
            position: fixed;
            inset: 0;
            width: var(--vvw);
            height: var(--vvh);

            /* Safe-area for notches / rounded corners */
            padding-top: env(safe-area-inset-top);
            padding-right: env(safe-area-inset-right);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);

            box-sizing: border-box;
            overflow: hidden;
        }

        /* 4) Foldables: keep content inside ONE segment (avoid hinge cut) */
        @media (horizontal-viewport-segments: 2) {
            #stage {
                width: env(viewport-segment-width 0 0);
                height: env(viewport-segment-height 0 0);
                left: env(viewport-segment-left 0 0);
                top: env(viewport-segment-top 0 0);
            }
        }

        @media (vertical-viewport-segments: 2) {
            #stage {
                width: env(viewport-segment-width 0 0);
                height: env(viewport-segment-height 0 0);
                left: env(viewport-segment-left 0 0);
                top: env(viewport-segment-top 0 0);
            }
        }

        /* 5) Page wrapper fills the stage */
        .page-wrapper {
            width: 100%;
            height: 100%;
            position: relative;
            background: url('images/page1.png') center top / contain no-repeat;
            background-color: #050a18;
        }

        /* Buton CONTINUE 3D Relief */
        .continue-btn {
            position: absolute;
            top: 89.6%;
            left: 37.8%;
            transform: translate(-50%, -50%);
            padding: 14px 50px;
            font-family: 'Cinzel', serif;
            font-size: 1.1rem;
            font-weight: 700;
            letter-spacing: 4px;
            text-transform: uppercase;
            color: #ffd700;
            background: linear-gradient(180deg,
                    #3a5a8c 0%,
                    #2a4a7c 15%,
                    #1a3a6c 40%,
                    #0a2a5c 70%,
                    #001a4c 100%);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            text-shadow:
                0 1px 0 #c9a227,
                0 2px 0 #b8920f,
                0 3px 0 #a68200,
                0 4px 0 #8b6914,
                0 5px 0 #705812,
                0 6px 0 #5a4810,
                0 7px 0 #443808,
                0 8px 15px rgba(0, 0, 0, 0.9);
            box-shadow:
                0 12px 0 #001030,
                0 14px 0 #000820,
                0 16px 0 #000510,
                0 18px 40px rgba(0, 0, 0, 0.9),
                inset 0 3px 8px rgba(255, 255, 255, 0.25),
                inset 0 -8px 15px rgba(0, 0, 0, 0.4),
                0 0 60px rgba(212, 175, 55, 0.4);
            transition: all 0.15s ease;
        }

        .continue-btn::before {
            content: '';
            position: absolute;
            inset: 4px;
            border-radius: 46px;
            border: 4px solid;
            border-color: #ffd700 #b8860b #8b6914 #ffd700;
            pointer-events: none;
        }

        .continue-btn::after {
            content: '';
            position: absolute;
            top: 8px;
            left: 15%;
            right: 15%;
            height: 25%;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.4) 0%, transparent 100%);
            border-radius: 50px 50px 100px 100px;
            pointer-events: none;
        }

        .continue-btn:hover {
            transform: translate(-50%, -50%) translateY(-4px);
            box-shadow:
                0 16px 0 #001030,
                0 18px 0 #000820,
                0 20px 0 #000510,
                0 22px 45px rgba(0, 0, 0, 0.9),
                inset 0 3px 8px rgba(255, 255, 255, 0.3),
                inset 0 -8px 15px rgba(0, 0, 0, 0.4),
                0 0 100px rgba(212, 175, 55, 0.6);
        }

        .continue-btn:active {
            transform: translate(-50%, -50%) translateY(8px);
            box-shadow:
                0 4px 0 #001030,
                0 6px 0 #000820,
                0 8px 25px rgba(0, 0, 0, 0.9),
                inset 0 3px 8px rgba(255, 255, 255, 0.15),
                inset 0 -8px 15px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(212, 175, 55, 0.3);
        }
    </style>
</head>

<body>
    <div id="stage">
        <div class="page-wrapper">
            <button class="continue-btn" onclick="window.location.href='gdpr.html'">CONTINUE</button>
        </div>
    </div>

    <!-- Model preload script removed - fetch doesn't persist across page navigations -->

    <!-- Ticker Bar -->
    <style>
        .ticker-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 55px;
            background: linear-gradient(90deg, rgba(0, 0, 0, 0.95) 0%, rgba(10, 20, 40, 0.95) 50%, rgba(0, 0, 0, 0.95) 100%);
            border-top: 1px solid rgba(212, 175, 55, 0.6);
            display: flex;
            align-items: center;
            overflow: hidden;
            z-index: 9999;
            /* Respect safe area at bottom */
            padding-bottom: env(safe-area-inset-bottom);
        }

        .ticker-brand {
            background: linear-gradient(135deg, #d4af37 0%, #f4d47c 50%, #d4af37 100%);
            color: #000;
            font-family: 'Cinzel', serif;
            font-weight: 700;
            font-size: 0.65rem;
            padding: 8px 12px;
            letter-spacing: 1px;
        }

        .ticker-content {
            flex: 1;
            overflow: hidden;
        }

        .ticker-text {
            color: #d4af37;
            font-family: 'Cormorant Garamond', serif;
            font-size: 0.8rem;
            white-space: nowrap;
            animation: scroll 30s linear infinite;
            padding-left: 100%;
        }

        @keyframes scroll {
            0% {
                transform: translateX(0);
            }

            100% {
                transform: translateX(-100%);
            }
        }
    </style>
    <div class="ticker-bar">
        <div class="ticker-brand"><img src="images/ae_logo.png" alt="AE" style="height: 50px; width: auto;"></div>
        <div class="ticker-content">
            <div class="ticker-text" id="ticker-text"></div>
        </div>
    </div>

    <!-- Responsive Viewport Script -->
    <script>
        (function () {
            const root = document.documentElement;
            let scheduled = false;

            function setVars(vw, vh) {
                root.style.setProperty('--vvw', vw + 'px');
                root.style.setProperty('--vvh', vh + 'px');
            }

            function updateViewportVars() {
                const vv = window.visualViewport;
                if (vv) {
                    setVars(Math.round(vv.width), Math.round(vv.height));
                } else {
                    setVars(Math.round(window.innerWidth), Math.round(window.innerHeight));
                }
            }

            function scheduleUpdate() {
                if (scheduled) return;
                scheduled = true;
                requestAnimationFrame(() => {
                    scheduled = false;
                    updateViewportVars();
                });
            }

            updateViewportVars();
            window.addEventListener('resize', scheduleUpdate, { passive: true });
            window.addEventListener('orientationchange', scheduleUpdate, { passive: true });

            if (window.visualViewport) {
                window.visualViewport.addEventListener('resize', scheduleUpdate, { passive: true });
                window.visualViewport.addEventListener('scroll', scheduleUpdate, { passive: true });
            }

            const mqH = window.matchMedia?.('(horizontal-viewport-segments: 2)');
            const mqV = window.matchMedia?.('(vertical-viewport-segments: 2)');
            mqH?.addEventListener?.('change', scheduleUpdate);
            mqV?.addEventListener?.('change', scheduleUpdate);
        })();
    </script>

    <!-- Ticker Script -->
    <script>
        const msgs = [
            'âœ§ Crafted with vision by AE Creative Studio â€¢ Where imagination meets innovation âœ§',
            'â˜… Powered by the most brilliant AI minds â€¢ Google Gemini â€¢ OpenAI â€¢ ElevenLabs â˜…',
            'â—† Project KELION â€¢ Bridging dimensions through technology â—†',
            'ðŸ”‘ Developer API now available â€¢ Build with Kelion AI â€¢ kelionai.app/developers.html ðŸ”‘'
        ];
        let mi = 0;
        const tt = document.getElementById('ticker-text');
        function updateTicker() {
            tt.style.opacity = '0';
            setTimeout(() => {
                tt.textContent = msgs[mi] + ' â€¢ ' + msgs[mi];
                tt.style.opacity = '1';
                mi = (mi + 1) % msgs.length;
            }, 300);
        }
        updateTicker();
        setInterval(updateTicker, 10000);
    </script>

    <!-- Page Tracking -->
    <script src="components/tracking.js"></script>

    <!-- Phase 2: Presentation Workspace -->
    <script src="components/k-presentation-workspace.js"></script>

    <!-- Phase 3: File Upload/Download System -->
    <script src="components/file-upload.js"></script>
    <script src="components/download-buttons.js"></script>

    <!-- Phase 4: All Advanced Features -->
    <script src="components/code-detector.js"></script>
    <script src="components/file-browser.js"></script>
    <script src="components/browser-viewer.js"></script>
    <script src="components/task-manager.js"></script>
    <script src="components/tool-library.js"></script>
    <script src="components/agent-dashboard.js"></script>

    <!-- Phase 5: Auto-Evolution -->
    <script src="components/evolution-dashboard.js"></script>

</body>

</html>